<!DOCTYPE html>
<html>
<head>
    <title>Expense Tracker</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>Expense Tracker</h1>

    <form action="/add" method="post">
        <input type="text" name="name" placeholder="Expense Name" required>
        <input type="number" name="amount" placeholder="Amount" required>

        <select name="item_type" required>
            <option value="" disabled selected>Select Category</option>
            <option value="Food">Food</option>
            <option value="Transport">Transport</option>
            <option value="Shopping">Shopping</option>
            <option value="Bills">Bills</option>
            <option value="Entertainment">Entertainment</option>
        </select>

        <select name="payment_type" required>
            <option value="" disabled selected>Payment Type</option>
            <option value="Cash">Cash</option>
            <option value="Card">Card</option>
            <option value="UPI">UPI</option>
        </select>

        <button type="submit">Add Expense</button>
    </form>

    <h2>Expenses:</h2>
    <table border="1" cellpadding="5">
        <tr>
            <th>S.N</th>
            <th>Name</th>
            <th>Amount</th>
            <th>Category</th>
            <th>Payment Type</th>
        </tr>
        {% for expense in expenses %}
        <tr>
            <td>{{ expense.sn }}</td>
            <td>{{ expense.name }}</td>
            <td>{{ expense.amount }}</td>
            <td>{{ expense.item_type }}</td>
            <td>{{ expense.payment_type }}</td>
        </tr>
        {% endfor %}
    </table>

    <h2>Expense Distribution</h2>
    <canvas id="expenseChart" width="300" height="300"></canvas>

    <script>
        var labels = {{ labels | safe }};
        var data = {{ data | safe }};

        console.log(labels, data);

        var ctx = document.getElementById('expenseChart').getContext('2d');
        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: labels,
                datasets: [{
                    data: data
                }]
            }
        });
    </script>

</body>
</html>




